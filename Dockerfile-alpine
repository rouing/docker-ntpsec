
# Do not use if you care about security (read comments)!

FROM alpine:latest
LABEL maintainer "rouing"
LABEL description "NTP reference implementation, refactored for security"

RUN echo http://dl-2.alpinelinux.org/alpine/v3.12/community >> /etc/apk/repositories
RUN apk update
RUN apk add ntpsec

COPY ntp.conf /etc/ntp.conf

EXPOSE 123/udp
EXPOSE 123/tcp

RUN ntpd --version

ENTRYPOINT ["/usr/local/sbin/ntpd"]

CMD ["-n"]
